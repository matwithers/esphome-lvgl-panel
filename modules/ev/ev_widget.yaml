# EV widget (to be included inside an existing lvgl page widgets list)
#
# vars:
#   row_pos, column_pos, row_span, column_span

container:
    id: ev_container
    grid_cell_x_align: stretch
    grid_cell_y_align: stretch
    grid_cell_row_pos: ${row_pos}
    grid_cell_column_pos: ${column_pos}
    grid_cell_row_span: ${row_span}
    grid_cell_column_span: ${column_span}

    bg_color: color_background

    layout:
      type: flex
      flex_flow: COLUMN
      flex_align_cross: center
      flex_align_main: center
      pad_row: 6

    widgets:
      # ---- Car + % overlay ----
      - obj:
          id: ev_car_overlay
          width: SIZE_CONTENT
          height: SIZE_CONTENT
          bg_opa: TRANSP

          widgets:
            - image:
                id: ev_car_icon
                src: car_outline_dark_200
                align: center

            - obj:
                id: ev_battery_row
                width: SIZE_CONTENT
                height: SIZE_CONTENT
                bg_opa: TRANSP
                align: center
                x: 6
                y: -3
                layout:
                  type: flex
                  flex_flow: ROW
                  flex_align_main: center
                  flex_align_cross: center
                  pad_column: 0
                widgets:
                  - label:
                      id: ev_charge_icon
                      text: "${mdi_lightning_bolt}"
                      text_font: font_mdi_32
                      text_color: 0x2196F3
                      hidden: true
                      pad_right: -6

                  - label:
                      id: ev_battery_level
                      text: "--%"
                      text_font: font_body_32
                      text_color: color_primary_text
                      text_align: center

      # ---- Range below car ----
      - label:
          id: ev_range
          text: "--- miles"
          text_font: font_body_24
          text_color: color_secondary_text
          text_align: center